@startuml

Publisher -> Publisher: Listen for TCP connections

Subscriber -> Subscriber: Listen for UDP connections

Subscriber -> Publisher: Open a TCP connection

Subscriber -> Publisher: Send the UDP port terminated by a newline on the TCP \
connection

Publisher -> Publisher: Dial the UDP host made by concatenating the TCP IP and \
the received port

Publisher -> Publisher: Ignore the TCP connection

Publisher -> Subscriber: Forward input messages to every subscriber with their \
UDP connections

Subscriber -> Publisher: Close the TCP connection

Publisher -> Subscriber: Forget the UDP address

@enduml
